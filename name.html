<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>slateusername</title>
    <link rel="stylesheet" href="light.css">
     
    
</head>
<body>
    <div class="head"></div>
        <button  class="create" onclick="add()">create</button>
       <div class="icons">
                <img  class="logo" src="slate.png">
<button id="dark" onclick="dark()" class="dark">
  <img src="darkmode.png"  class="dark" alt="Dark mode">
</button>
</div>
<div class="form-box" id="formBox">
    <h1>TO DO:</h1>
    <input type="text" id="taskTitle" placeholder="Task title"><br><br>

    <textarea id="taskDesc" placeholder="Description"></textarea><br><br>

    <input type="date" id="taskDeadline"><br><br>

    <button onclick="saveTask()">Save</button>
    <button onclick="closeForm()">Close</button>
</div>



    
    <div class="body" id="body">

    </div>
    <script>
        function dark()
        {
const toggle = document.getElementById("dark");


  document.body.classList.toggle("dark");

  const theme = document.body.classList.contains("dark")
    ? "dark"
    : "light";

  localStorage.setItem("theme", theme);
};
const savedTheme = localStorage.getItem("theme");

if (savedTheme === "dark") {
  document.body.classList.add("dark");
}

function add() {
    document.getElementById("formBox").style.display = "block";
}

function closeForm() {
    document.getElementById("formBox").style.display = "none";
}


function saveTask() {
    const title = document.getElementById("taskTitle").value;
    const desc = document.getElementById("taskDesc").value;
    const deadline = document.getElementById("taskDeadline").value;

    if (title === "") {
        alert("Task title is required");
        return;
    }

    // create a task object
    const task = { title, desc, deadline, done: false };

    // get tasks from localStorage
    let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
    tasks.push(task);
    localStorage.setItem("tasks", JSON.stringify(tasks));

    renderTasks(); // display tasks
    closeForm();

    // clear inputs
    document.getElementById("taskTitle").value = "";
    document.getElementById("taskDesc").value = "";
    document.getElementById("taskDeadline").value = "";
}
function renderTasks() {
    const list = document.getElementById("body");
    list.innerHTML = ""; // clear existing tasks

    const tasks = JSON.parse(localStorage.getItem("tasks")) || [];

    tasks.forEach((task, index) => {
        const li = document.createElement("li");
        li.className = "task";
        if (task.done) li.classList.add("done");

        li.innerHTML = `
            <input type="checkbox" ${task.done ? "checked" : ""} onchange="toggleComplete(this, ${index})">
            <strong>${task.title}</strong>
            <small>${task.desc}</small>
            <small>Deadline: ${task.deadline}</small>
            <button onclick="deleteTask(${index})">Delete</button>
        `;

        list.appendChild(li);
    });
}
function toggleComplete(box, index) {
    let tasks = JSON.parse(localStorage.getItem("tasks"));
    tasks[index].done = box.checked;
    localStorage.setItem("tasks", JSON.stringify(tasks));

    box.parentElement.classList.toggle("done");
}function deleteTask(index) {
    let tasks = JSON.parse(localStorage.getItem("tasks"));
    tasks.splice(index, 1); // remove task
    localStorage.setItem("tasks", JSON.stringify(tasks));
    renderTasks();
}
window.onload = function() {
    renderTasks();
};


 

        
    </script>
</body>

</html>